<!-- Login Form with Glassmorphism -->
<div class="w-full max-w-md mx-auto px-4 py-6 sm:px-6 
            bg-gradient-to-br from-indigo-900/30 via-purple-900/25 to-indigo-800/30 
            backdrop-blur-xl backdrop-saturate-150
            border border-white/20 rounded-2xl
            shadow-[0_8px_32px_0_rgba(99,102,241,0.25)]">
  <form #loginForm="ngForm" (ngSubmit)="login()">
    
    <!-- Email Field -->
    <div class="mb-4 sm:mb-5">
      <label for="login-email" class="block text-sm font-semibold text-indigo-200 mb-2">
        Email
      </label>
      <div class="relative">
        <input 
          id="login-email"
          name="email"
          [(ngModel)]="credentials.email"
          #email="ngModel"
          type="email"
          required
          email
          class="block w-full py-3 sm:py-3.5 px-4 sm:px-5 pr-12 text-white placeholder-white/50
                 bg-white/15 backdrop-blur-md
                 border border-white/30
                 rounded-xl
                 transition-all duration-300
                 focus:outline-none focus:ring-2 focus:ring-indigo-400/60 focus:border-indigo-400/60
                 hover:bg-white/20 hover:border-white/40
                 shadow-[inset_0_2px_8px_rgba(0,0,0,0.3)]
                 text-sm sm:text-base"
          [class.border-red-400/60]="email.touched && email.invalid"
          [class.focus:ring-red-400/50]="email.touched && email.invalid"
          [class.border-green-400/60]="email.touched && email.valid"
          [class.focus:ring-green-400/50]="email.touched && email.valid"
          placeholder="Enter Email"
          autocomplete="email"
        />
        <span class="material-icons absolute right-4 top-1/2 transform -translate-y-1/2 text-indigo-300/50 pointer-events-none">
          email
        </span>
      </div>
      @if (email.touched && email.dirty) {
        @if (email.errors?.['required']) {
          <p class="text-red-300 text-xs sm:text-sm mt-2 flex items-center gap-1.5">
            <span class="material-icons text-sm">error</span>
            Email is required
          </p>
        }
        @if (email.errors?.['email']) {
          <p class="text-red-300 text-xs sm:text-sm mt-2 flex items-center gap-1.5">
            <span class="material-icons text-sm">error</span>
            Please enter a valid email
          </p>
        }
      }
    </div>

    <!-- Password Field -->
    <div class="mb-5 sm:mb-6">
      <label for="login-password" class="block text-sm font-semibold text-indigo-200 mb-2">
        Password
      </label>
      <div class="relative">
        <input 
          id="login-password"
          name="password"
          [(ngModel)]="credentials.password"
          #password="ngModel"
          type="password"
          required
          minlength="6"
          class="block w-full py-3 sm:py-3.5 px-4 sm:px-5 pr-12 text-white placeholder-white/40
                 bg-white/10 backdrop-blur-sm
                 border border-white/20
                 rounded-xl
                 transition-all duration-300
                 focus:outline-none focus:ring-2 focus:ring-indigo-400/50 focus:border-indigo-400/50
                 hover:bg-white/15
                 shadow-inner
                 text-sm sm:text-base"
          [class.border-red-400/60]="password.touched && password.invalid"
          [class.focus:ring-red-400/50]="password.touched && password.invalid"
          [class.border-green-400/60]="password.touched && password.valid"
          [class.focus:ring-green-400/50]="password.touched && password.valid"
          placeholder="Password"
          autocomplete="current-password"
        />
        <span class="material-icons absolute right-4 top-1/2 transform -translate-y-1/2 text-indigo-300/50 pointer-events-none">
          lock
        </span>
      </div>
      @if (password.touched && password.dirty) {
        @if (password.errors?.['required']) {
          <p class="text-red-300 text-xs sm:text-sm mt-2 flex items-center gap-1.5">
            <span class="material-icons text-sm">error</span>
            Password is required
          </p>
        }
        @if (password.errors?.['minlength']) {
          <p class="text-red-300 text-xs sm:text-sm mt-2 flex items-center gap-1.5">
            <span class="material-icons text-sm">error</span>
            Password must be at least 6 characters
          </p>
        }
      }
    </div>

    <!-- Submit Button -->
    <button 
      type="submit"
      [disabled]="loginForm.invalid || inSubmission"
      class="w-full py-3 sm:py-4 px-4 
             rounded-xl 
             text-white font-bold 
             transition-all duration-300
             text-sm sm:text-base"
      [class]="loginForm.invalid || inSubmission 
        ? 'bg-gray-500/50 border border-gray-500/30 cursor-not-allowed' 
        : 'bg-gradient-to-r from-indigo-500/80 to-purple-500/80 hover:from-indigo-500 hover:to-purple-500 active:from-indigo-600 active:to-purple-600 backdrop-blur-sm border border-indigo-400/50 shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/50 hover:scale-[1.02] active:scale-[0.98]'"
    >
      @if (inSubmission) {
        <span class="flex items-center justify-center gap-2">
          <svg class="animate-spin h-4 w-4 sm:h-5 sm:w-5" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          Logging in...
        </span>
      } @else {
        Submit
      }
    </button>

    <!-- Alert Messages with Glassmorphism -->
    @if (showAlert) {
      <div 
        class="mt-5 p-4 sm:p-5 rounded-xl text-sm sm:text-base 
               transition-all duration-300
               backdrop-blur-md border shadow-lg"
        [ngClass]="{
          'bg-blue-500/30 border-blue-400/50 shadow-blue-500/20': alertColor === 'blue',
          'bg-green-500/30 border-green-400/50 shadow-green-500/20': alertColor === 'green',
          'bg-red-500/30 border-red-400/50 shadow-red-500/20': alertColor === 'red'
        }"
        role="alert"
      >
        <div class="flex items-start gap-3">
          @if (alertColor === 'blue') {
            <span class="material-icons text-xl mt-0.5 text-blue-200">info</span>
          } @else if (alertColor === 'green') {
            <span class="material-icons text-xl mt-0.5 text-green-200">check_circle</span>
          } @else {
            <span class="material-icons text-xl mt-0.5 text-red-200">error</span>
          }
          <p class="text-white font-medium flex-1">{{ alertMsg }}</p>
        </div>
      </div>
    }

    <!-- Forgot Password Link -->
    <div class="mt-5 text-center">
      <a 
        href="#" 
        class="text-xs sm:text-sm text-indigo-300 hover:text-indigo-200 
               transition-colors duration-200 hover:underline
               inline-flex items-center gap-1"
      >
        <span class="material-icons text-sm">lock_reset</span>
        Forgot your password?
      </a>
    </div>
  </form>
</div>